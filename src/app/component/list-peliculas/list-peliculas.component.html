<div>
  <form (submit)="onSubmit()" #movieForm="ngForm"  class="formfieldcontainer">
    <ng-container *ngIf="isEditMode || isNewMode;">
        <mat-form-field>
          <input
            type="text"
            matInput
            placeholder="id"
            name="ID"
            required
            [(ngModel)]="movieData.id"
          />
        </mat-form-field>
        <mat-form-field>
          <input
            type="text"
            matInput
            placeholder="Nombre"
            name="name"
            required
            [(ngModel)]="movieData.name"
          />
        </mat-form-field>
        <mat-form-field>
          <input
            type="text"
            matInput
            placeholder="Foto url"
            name="photo"
            required
            [(ngModel)]="movieData.photo"
          />
        </mat-form-field>
        <mat-form-field>
          <input
            type="text"
            matInput
            placeholder="Duración"
            name="duracion"
            required
            [(ngModel)]="movieData.duracion"
          />
        </mat-form-field>
        <mat-form-field>
          <input
            type="text"
            matInput
            placeholder="Genero"
            name="genero"
            required
            [(ngModel)]="movieData.genero"
          />
        </mat-form-field>

    </ng-container>
    <ng-container *ngIf="isEditMode;">
      <button mat-raised-button class="button" color="primary">Update</button> &nbsp;
      <button mat-raised-button class="button" color="warn" (click)="cancelEdit()">Cancel</button>
      &nbsp;
    </ng-container>
    &nbsp;
    <ng-container *ngIf="isNewMode">
        <button mat-raised-button class="button" color="primary">Add</button> &nbsp;
        <button mat-raised-button class="button" color="warn" (click)="cancelEdit()">Cancel</button>
        &nbsp;
    </ng-container>
    &nbsp;
    <ng-container *ngIf="!isEditMode && !isNewMode">
      <button mat-raised-button class="button" color="primary" (click)="addNew()">Add</button> &nbsp;
    </ng-container>
  </form>
</div>
<div class="mat-elevation-z8 tablecontainer">
  <table mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>Id</th>
      <td mat-cell *matCellDef="let element">{{ element.id }}</td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Nombre</th>
      <td mat-cell *matCellDef="let element">{{ element.name }}</td>
    </ng-container>

    <ng-container matColumnDef="photo">
      <th mat-header-cell *matHeaderCellDef>Foto</th>
      <td mat-cell *matCellDef="let element">
        <img src="{{element.photo}}" alt="foto" class="movieimage"></td>
    </ng-container>

    <ng-container matColumnDef="duracion">
      <th mat-header-cell *matHeaderCellDef>Duración</th>
      <td mat-cell *matCellDef="let element">{{ element.duracion }}</td>
    </ng-container>

    <ng-container matColumnDef="genero">
      <th mat-header-cell *matHeaderCellDef>Genero</th>
      <td mat-cell *matCellDef="let element">{{ element.genero }}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Actions</th>
      <td mat-cell *matCellDef="let element">
        <a mat-raised-button color="primary" (click)="editItem(element)">
          <mat-icon>edit</mat-icon>
        </a>
        <a mat-raised-button color="warn" (click)="deleteItem(element.id)">
          <mat-icon>delete</mat-icon>
        </a>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <mat-paginator
    [length]="100"
    [pageSize]="10"
    [pageSizeOptions]="[5, 10, 25, 100]"
    aria-label="Select page"
  >
  </mat-paginator>
</div>
